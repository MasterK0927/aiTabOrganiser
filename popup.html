<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, maximum-scale=1.0">
  <meta name="description" content="AI-powered tab management and organization">
  <title>AI Tab Manager</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="onboarding.css">
</head>
<body>
  <div id="app-container">
    <header class="app-header">
      <div class="header-content">
        <h1>AI Tab Manager</h1>
        <div class="header-utils">
          <button id="settings-button" class="icon-button" aria-label="Settings">
            <svg class="button-icon" viewBox="0 0 24 24" width="18" height="18">
              <path fill="currentColor" d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/>
            </svg>
          </button>
          <button id="dark-mode-toggle" class="icon-button" aria-label="Toggle dark mode">
            <svg class="button-icon dark-mode-icon" viewBox="0 0 24 24" width="18" height="18">
              <path fill="currentColor" d="M12,22c5.5,0,10-4.5,10-10S17.5,2,12,2S2,6.5,2,12S6.5,22,12,22z M12,4c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S7.6,4,12,4z M12,17c2.8,0,5-2.2,5-5s-2.2-5-5-5V17z"/>
            </svg>
          </button>
        </div>
        <div class="header-actions">
          <button 
            id="analyze-tabs" 
            class="primary-button modern-button"
            aria-label="Analyze and group current tabs">
            <div class="button-content">
              <svg class="button-icon" viewBox="0 0 24 24" width="18" height="18">
                <path fill="currentColor" d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12C20,14.4 19,16.5 17.3,18C15.9,16.7 14,16 12,16C10,16 8.2,16.7 6.7,18C5,16.5 4,14.4 4,12A8,8 0 0,1 12,4M14,5.89C13.62,5.9 13.26,6.15 13.1,6.54L11.81,9.77L11.71,10C11,10 10.39,10.33 10,10.86L7.95,9.5L7.97,9.45C7.94,9.31 7.88,9.18 7.79,9.07L5.73,6.45C5.5,6.16 5.1,6.06 4.76,6.21C4.41,6.37 4.21,6.74 4.28,7.11L5.04,11.93C5.09,12.25 5.35,12.5 5.68,12.5C5.76,12.5 5.82,12.46 5.9,12.41L7.72,11.16C7.89,11.05 8,10.86 8,10.66V10.58L9.25,11.39C9.25,11.54 9.23,11.69 9.23,11.85C9.23,12.87 9.69,13.77 10.41,14.33L9.97,15.61C9.92,15.76 9.92,15.92 9.97,16.06L10.3,17.1C10.4,17.37 10.7,17.53 11,17.5C11.24,17.5 11.47,17.29 11.5,17.06L11.95,15.45C12.57,15.48 13.13,15.26 13.58,14.87L14.22,15.27C14.43,15.41 14.71,15.36 14.83,15.14C14.93,14.97 14.91,14.74 14.78,14.58L14.21,13.86C14.5,13.28 14.61,12.63 14.53,12L16.31,11.24L16.33,11.27C16.5,11.5 16.73,11.5 16.93,11.5C17.19,11.53 17.46,11.39 17.61,11.16L19.43,7.88C19.6,7.5 19.5,7.04 19.09,6.82C18.67,6.59 18.14,6.77 17.95,7.19L16.84,9.11L16.77,9.25L15,10L14.77,9.5C14.5,8.56 14.66,7.54 15.27,6.82L15.41,6.65L15.38,6.59C15.43,6.27 15.32,5.94 15.07,5.76C14.83,5.58 14.5,5.58 14.21,5.76L14,5.89Z"/>
              </svg>
              <span class="button-text">Analyze Tabs</span>
            </div>
            <span class="button-effect"></span>
          </button>
        </div>
      </div>
    </header>

    <main class="app-main">
      <div class="workspace-section">
        <div class="workspace-header">
          <h2>Workspaces</h2>
          <div class="search-container">
            <svg class="search-icon" viewBox="0 0 24 24" width="16" height="16">
              <path fill="currentColor" d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
            </svg>
            <input
              type="text"
              id="search-workspaces"
              placeholder="Search workspaces..."
              aria-label="Search workspaces"
              autocomplete="off"
            >
          </div>
        </div>
        <div id="workspace-list" class="workspace-list" role="list">
          <!-- Workspace cards will be dynamically inserted here -->
        </div>
      </div>

      <div class="tabs-section">
        <div class="tabs-header">
          <h2>Tabs in Workspace</h2>
        </div>
        <div id="tabs-container" class="tabs-container" role="tree">
          <!-- Tab tree will be dynamically inserted here -->
        </div>
      </div>
    </main>

    <div id="status-message" class="status-message" role="alert" aria-live="polite">
      <!-- Status messages will be dynamically inserted here -->
    </div>

    <div id="loading-spinner" class="loading-spinner hidden">
      <div class="spinner"></div>
      <span>Processing...</span>
    </div>
  </div>

  <template id="workspace-card-template">
    <div class="workspace-card" role="listitem">
      <input type="text" class="workspace-title" aria-label="Workspace name">
      <div class="workspace-controls">
        <span class="tab-count"></span>
        <button class="open-button" aria-label="Open workspace">Open</button>
        <button class="delete-button" aria-label="Delete workspace">Ã—</button>
      </div>
    </div>
  </template>

  <template id="tab-card-template">
    <div class="tab-card" role="treeitem">
      <img class="tab-icon" width="16" height="16" alt="">
      <a href="#" class="tab-name"></a>
      <span class="domain-badge"></span>
    </div>
  </template>

  <script src="popup.js" type="module"></script>
  <div id="gradient-splash" class="gradient-splash"></div>
</body>
</html>